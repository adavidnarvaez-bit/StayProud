<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StayProud - Reservas</title>

  <style>
    :root{
      --brand:#00bfa6;
      --bg:#f5f5f5;
      --text:#333;
      --card:#fff;
      --muted:#7f8c8d;
      --line:#e0e0e0;

      --free:#e8f5e9;
      --reserved:#e3f2fd;
      --interest:#fff3e0;

      --shadow: 0 2px 10px rgba(0,0,0,0.05);
      --radius:10px;
    }

    *{ margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
    body{ background:var(--bg); color:var(--text); }

    header{
      background:var(--brand);
      padding:1rem 0;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-container{
      max-width:1200px;
      margin:0 auto;
      padding:0 2rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    nav ul{ display:flex; list-style:none; gap:1rem; }
    nav a{ color:#fff; text-decoration:none; font-weight:600; }

    .main-container{
      max-width:1200px;
      margin:2rem auto;
      padding:0 2rem;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:2rem;
    }

    .calendar-section, .reservation-section{
      background:#fff;
      padding:2rem;
      border-radius:10px;
      box-shadow: var(--shadow);
    }

    .reservation-form{ display:grid; gap:1rem; }

    .form-row{ display:grid; grid-template-columns:1fr 1fr; gap:1rem; }

    .form-group{ display:flex; flex-direction:column; }

    .form-group input,
    .form-group select{
      padding:.8rem;
      border-radius:8px;
      border:1px solid #ccc;
    }

    .reservation-summary{
      background:#f8f9fa;
      padding:1rem;
      border-radius:10px;
    }

    .summary-item{
      display:flex;
      justify-content:space-between;
      margin-bottom:.5rem;
      font-weight:600;
    }

    .reservation-buttons{
      display:flex;
      gap:1rem;
    }

    .btn{
      padding:.8rem 1rem;
      border:none;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }

    .btn-confirm{ background:#00bfa6; color:#fff; }
    .btn-clear{ background:#fff; border:1px solid #ccc; }

    @media(max-width:900px){
      .main-container{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>

<header>
  <div class="header-container">
    <h1 style="color:white;">StayProud</h1>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="alojamientos.html">Alojamientos</a></li>
        <li><a href="reservas.html">Reservas</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="main-container">

<section class="reservation-section">
  <h2>Tu reserva</h2>

  <form class="reservation-form" id="reservation-form">

    <div class="form-row">
      <div class="form-group">
        <label>Tipo de habitación</label>
        <select id="room-type">
          <option value="single">Habitación por persona</option>
          <option value="double">Habitación doble</option>
          <option value="suite">Suite</option>
          <option value="family">Habitación familiar</option>
        </select>
      </div>

      <div class="form-group">
        <label>Huéspedes</label>
        <select id="guests">
          <option value="1">1</option>
          <option value="2" selected>2</option>
          <option value="3">3</option>
          <option value="4">4</option>
        </select>
      </div>
    </div>

    <div class="reservation-summary">
      <div class="summary-item">
        <span>Noches</span>
        <span id="nights">3</span>
      </div>
      <div class="summary-item">
        <span>Precio por noche</span>
        <span id="price-per-night">0 €</span>
      </div>
      <div class="summary-item">
        <strong>Total</strong>
        <strong id="total-amount">0 €</strong>
      </div>
    </div>

    <div class="reservation-buttons">
      <button type="button" class="btn btn-clear">Borrar</button>
      <button type="submit" class="btn btn-confirm">Confirmar reserva</button>
    </div>

  </form>
</section>

</main>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const nights = 3; // ejemplo
  const nightsEl = document.getElementById("nights");
  const pricePerNightEl = document.getElementById("price-per-night");
  const totalAmountEl = document.getElementById("total-amount");

  const roomBasePrice = {
    single: 60,
    double: 80,
    suite: 120,
    family: 140
  };

  function calculate(){
    const roomType = document.getElementById("room-type").value;
    const guests = parseInt(document.getElementById("guests").value,10);

    const base = roomBasePrice[roomType];
    let pricePerNight = base;

    // habitación por persona
    if(roomType === "single"){
      pricePerNight = base * guests;
    }

    // ✅ suplemento fijo si son 2 personas
    if(guests === 2){
      pricePerNight += 20;
    }

    const total = nights * pricePerNight;

    nightsEl.textContent = nights;
    pricePerNightEl.textContent = pricePerNight + " €";
    totalAmountEl.textContent = total + " €";
  }

  document.getElementById("room-type").addEventListener("change", calculate);
  document.getElementById("guests").addEventListener("change", calculate);

  document.getElementById("reservation-form").addEventListener("submit", e => {
    e.preventDefault();
    window.location.href = "pago.html";
  });

  calculate();
});
</script>

</body>
</html>
